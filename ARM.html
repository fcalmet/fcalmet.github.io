<!doctype html>
<!-- Copyright (C) 2025 by Fernando Calmet

	 Author: Fernando Calmet

	 This program is free software; you can redistribute it and/or modify
	 it under the terms of the GNU General Public License as published by
	 the Free Software Foundation, either version 3 of the License, or
	 (at your option) any later version.

	 This program is distributed in the hope that it will be useful,
	 but WITHOUT ANY WARRANTY; without even the implied warranty of
	 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	 GNU General Public License for more details.

	 You should have received a copy of the GNU General Public License
	 along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anorectal Manometry</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
	<h1>Anorectal Manometry</h1>
	<div class="app-container two">
	  <div class="panel">
		<h2><span title="Anorectal manometry">ARM</span></h2>
 		<div class="radio-field">
		  <label for="gender">Gender:</label>
		  <div id="gender">
			<label><input type="radio" name="gender" value="male" onchange="updateArmLabels()" /> Male</label>
			<label><input type="radio" name="gender" value="female" onchange="updateArmLabels()" checked /> Female</label>
		  </div>
		</div>
		<div class="text-field">
          <label for="resting" title="Max. Sphincter Pressure (rectal ref.)">Resting pressure (<span id="resting-label">71-81</span>):</label>
          <input type="number" id="resting" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="squeeze" title="Max. Sphincter Pressure (rectal ref.)">Squeeze pressure (<span id="squeeze-label">186-224</span>):</label>
		  <input type="number" id="squeeze" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="analRelaxation">Bear Down - Percent anal relaxation (&gt;20%):</label>
		  <input type="number" id="analRelaxation" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="rectalPressure">Bear Down - Intrarectal pressure (&gt;40%):</label>
		  <input type="number" id="rectalPressure" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="first">First sensation (<span id="first-label">21-26</span>):</label>
		  <input type="number" id="first" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="urge">Urge to defecate (<span id="urge-label">79-96</span>):</label>
		  <input type="number" id="urge" required autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="discomfort">Discomfort (<span id="discomfort-label">182-204</span>):</label>
		  <input type="number" id="discomfort" required autocomplete="off" />
		</div>
		<div class="radio-field">
		  <label for="rair"><span title="Rectoanal inhibitory reflex">RAIR</span>:</label>
		  <div id="rair">
			<label><input type="radio" name="rair" value="present" checked /> Present</label>
			<label><input type="radio" name="rair" value="absent" /> Absent</label>
		  </div>
		</div>
		<div class="radio-field">
		  <label for="cough">Cough reflex:</label>
		  <div id="cough">
			<label><input type="radio" name="cough" value="present" checked /> Present</label>
			<label><input type="radio" name="cough" value="absent" /> Absent</label>
		  </div>
		</div>
		<div class="radio-field">
		  <label for="sphincter">Sphincter defects:</label>
		  <div id="sphincter">
			<label><input type="radio" name="defects" value="present" /> Present</label>
			<label><input type="radio" name="defects" value="absent" checked /> Absent</label>
		  </div>
		</div>
		<div class="radio-field">
		  <label for="bet"><span title="Balloon expulsion test">BET</span>:</label>
		  <div id="bet">
			<label><input type="radio" name="bet" value="passed" /> Passed</label>
			<label><input type="radio" name="bet" value="failed" /> Failed</label>
			<label><input type="radio" name="bet" value="notDone" checked /> N/A</label>
		  </div>
		</div>
		<div class="text-field">
		  <label for="discomfort"><span title="Balloon expulsion test">BET</span> time:</label>
		  <input type="number" id="betM" class="time" autocomplete="off" placeholder="minutes" />
		  <input type="number" id="betS" class="time" autocomplete="off" placeholder="seconds" />
		</div>
		<button type="button" onclick="createArmReport()">Create Report</button>
	  </div>

	  <div class="panel results">
		<h2><span title="International Classification of Diseases, 10th Revision">ICD-10</span> Codes</h2>
		<ul class="icd-10">
		  <li>Obstructive defecation (ICD-10: K59.02) <span class="copy-icon" onclick="copyToClipboard(this)">ðŸ“‹</span></li>
		  <li>Fecal incontinence (ICD-10: R15.9) <span class="copy-icon" onclick="copyToClipboard(this)">ðŸ“‹</span></li>
		</ul>

		<h2>Report</h2>
		<textarea id="report"></textarea>
		<button type="button" class="copy-report" onclick="copyReport()">Copy Report</button>
	  </div>
	</div>
	<footer id="footer-nav"></footer>
	<script src="motility.js"></script>
  </body>
</html>
