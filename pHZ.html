<!doctype html>
<!-- Copyright (C) 2025 by Fernando Calmet

	 Author: Fernando Calmet

	 This program is free software; you can redistribute it and/or modify
	 it under the terms of the GNU General Public License as published by
	 the Free Software Foundation, either version 3 of the License, or
	 (at your option) any later version.

	 This program is distributed in the hope that it will be useful,
	 but WITHOUT ANY WARRANTY; without even the implied warranty of
	 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	 GNU General Public License for more details.

	 You should have received a copy of the GNU General Public License
	 along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catheter-based pH/impedance monitoring</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body onload="createEmptySymptomTable()">
	<h1>Catheter-based pH/impedance monitoring</h1>
	<div class="app-container three">
	  <div class="panel">
		<h2>pH monitoring</h2>
		<div class="radio-field">
		  <label for="mrsBody"><span title="Proton pump inhibitors">PPIs</span>:</label>
		  <div id="ppi">
			<label><input type="radio" name="ppi" value="yes" /> Yes</label>
			<label><input type="radio" name="ppi" value="no" checked /> No</label>
		  </div>
		</div>
		<div class="text-field">
		  <label for="discomfort">Analysis time:</label>
		  <input type="number" id="analysisTimeH" class="time" autocomplete="off" placeholder="hours" />
		  <input type="number" id="analysisTimeM" class="time" autocomplete="off" placeholder="minutes" />
		</div>
		<div class="text-field">
		  <label for="aetTotal">Total <span title="Acid exposure time">AET</span> (&lt;4-6%):</label>
		  <input id="aetTotal" type="number" step="0.1" autocomplete="off" />
		</div>
		<div class="text-field">
		  <label for="aetUpright"><span title="Acid exposure time">AET</span> upright (&lt;7.3%):</label>
		  <input id="aetUpright" type="number" step="0.1" />
		</div>
		<div class="text-field">
		  <label for="aetSupine"><span title="Acid exposure time">AET</span> supine (&lt;1.4%):</label>
		  <input id="aetSupine" type="number" step="0.1" />
		</div>
		<div class="text-field">
		  <label for="longestReflux">Longest reflux (minutes):</label>
		  <input id="longestReflux" type="number" step="0.1" />
		</div>
		<div class="text-field">
		  <label for="deMeester">DeMeester score (&lt;14.7):</label>
		  <input id="deMeester" type="number" step="0.1" />
		</div>

		<h2>Impedance monitoring</h2>
		<div class="text-field">
		  <label for="impedanceTotal">Reflux episodes (&lt;40-80):</label>
		  <input id="impedanceTotal" type="number" />
		</div>
		<div class="text-field">
		  <label for="proximalTotal">Proximal reflux episodes, total (&lt;31):</label>
		  <input id="proximalTotal" type="number" />
		</div>
		<div class="text-field">
		  <label for="proximalUpright">Proximal reflux episodes, upright (&lt;29):</label>
		  <input id="proximalUpright" type="number" />
		</div>
		<div class="text-field">
		  <label for="proximalSupine">Proximal reflux episodes, supine (&lt;3):</label>
		  <input id="proximalSupine" type="number" />
		</div>
	  </div>

	  <div class="panel">
		<h2>Symptoms</h2>
		<datalist id="symptomList">
		  <option value="Heartburn"></option>
		  <option value="Regurgitation"></option>
		  <option value="Belching"></option>
		  <option value="Chest pain"></option>
		  <option value="Cough"></option>
		  <option value="Globus"></option>
		  <option value="Hiccup"></option>
		  <option value="Mucus sensation"></option>
		  <option value="Nausea"></option>
		  <option value="Phlegm sensation"></option>
		  <option value="Shortness of breath"></option>
		  <option value="Sore throat"></option>
		  <option value="Spasm sensation"></option>
		  <option value="Throat clearing"></option>
		  <option value="Vomiting"></option>
		</datalist>
		<table id="symptomTable">
		  <tr><th>Symptom</th><th>n</th><th><span title="Symptom index">SI</span> (%)</th><th><span title="Symptom association probability">SAP</span> (%)</th></tr>
		</table>
		<button type="button" onclick="addSymptom()">Add Symptom</button>
		<button type="button" onclick="createPhzReport()">Create Report</button>

	  </div>

	  <div class="panel results">
		<h2><span title="International Classification of Diseases, 10th Revision">ICD-10</span> Codes</h2>
		<ul class="icd-10">
		  <li>GERD (ICD-10: K21.9) <span class="copy-icon" onclick="copyToClipboard(this)">ðŸ“‹</span></li>
		</ul>

		<h2>Report</h2>
		<textarea id="report"></textarea>
		<button type="button" class="copy-report" onclick="copyReport()">Copy Report</button>
	  </div>
	</div>
	<footer id="footer-nav"></footer>
	<script src="motility.js"></script>
  </body>
</html>
